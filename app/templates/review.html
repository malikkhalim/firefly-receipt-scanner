{% extends "base.html" %}

{% block title %}Review Receipt Data{% endblock %}

{% block content %}
<h1>Review Receipt Data</h1>
<p>Please review and edit the extracted data before creating the transaction.</p>

<form action="/create-transaction" method="post" onsubmit="showLoading()">
    <input type="hidden" name="source_account" value="{{ extracted_data.source_account }}">
    <input type="hidden" name="firefly_token" value="{{ extracted_data.firefly_token }}">
    
    <div class="form-group">
        <button type="submit" id="submit-btn" class="btn">Create Transaction</button>
        <button type="button" class="btn btn-secondary" onclick="window.location.href='/'">Cancel</button>
    </div>
</form>

<div id="loading" class="loading">
    <p>Creating transaction... This may take a minute. Please don't close this page.</p>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    function showLoading() {
        document.getElementById('loading').classList.add('active');
        document.getElementById('submit-btn').disabled = true;
    }
</script>
{% endblock %}
